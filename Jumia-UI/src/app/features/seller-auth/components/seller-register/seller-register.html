<div class="content">
  <div class="form-container">
    <div class="star-icon"></div>
    <h1>Personal details</h1>
    <div class="subtitle">We just need you to fill in some details.</div>

    <form id="personalForm" [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

      <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" class="form-input" formControlName="firstName">
        <div *ngIf="submitted && f['firstName'].errors" class="error">
          <div *ngIf="f['firstName'].errors['required']">First name is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" class="form-input" formControlName="lastName">
        <div *ngIf="submitted && f['lastName'].errors" class="error">
          <div *ngIf="f['lastName'].errors['required']">Last name is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="birthDate">Birth Date</label>
        <div class="date-input">
          <input type="date" id="birthDate" class="form-input" formControlName="birthDate">
        </div>
        <div *ngIf="submitted && f['birthDate'].errors" class="error">
          <div *ngIf="f['birthDate'].errors['required']">Birth date is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="gender">Gender</label>
        <select id="gender" class="form-input" formControlName="gender">
          <option value="">Select</option>
          <option value="female">Female</option>
          <option value="male">Male</option>
          <option value="other">Other</option>
        </select>
        <div *ngIf="submitted && f['gender'].errors" class="error">
          <div *ngIf="f['gender'].errors['required']">Gender is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <textarea id="address" class="form-input" formControlName="address" rows="2"></textarea>
        <div *ngIf="submitted && f['address'].errors" class="error">
          <div *ngIf="f['address'].errors['required']">Address is required.</div>
          <div *ngIf="f['address'].errors['minlength']">Address must be at least {{ f['address'].errors['minlength'].requiredLength }} characters.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="image">Upload Business Image*</label>
        <input type="file" id="image" (change)="onFileSelected($event)" accept="image/*" required class="form-input" />
      </div>

      <div class="form-group">
        <label for="BussinessName">Business Name*</label>
        <input type="text" id="BussinessName" class="form-input" formControlName="BussinessName" required>
        <div *ngIf="submitted && f['BussinessName'].errors" class="error">
          <div *ngIf="f['BussinessName'].errors['required']">Business name is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="BussinessDiscreption">Business Description</label>
        <textarea id="BussinessDiscreption" class="form-input" formControlName="BussinessDiscreption" rows="2"></textarea>
        <div *ngIf="submitted && f['BussinessDiscreption'].errors" class="error">
          <div *ngIf="f['BussinessDiscreption'].errors['required']">Business description is required.</div>
          <div *ngIf="f['BussinessDiscreption'].errors['minlength']">Description must be at least {{ f['BussinessDiscreption'].errors['minlength'].requiredLength }} characters.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="BussinessLogo">Business Logo*</label>
        <input type="file" id="BussinessLogo" class="form-input" (change)="onBusinessLogoSelected($event)" accept="image/*" required />
      </div>

      <div class="form-group">
        <input type="email" class="form-input" placeholder="Email*" id="email" formControlName="email">
        <div *ngIf="submitted && f['email'].errors" class="error">
          <div *ngIf="f['email'].errors['required']">Email is required.</div>
          <div *ngIf="f['email'].errors['email']">Invalid email format.</div>
        </div>
      </div>

      <div class="form-group">
        <input type="password" class="form-input" placeholder="Password*" id="password" formControlName="password" required>
        <div *ngIf="submitted && f['password'].errors" class="error">
          <div *ngIf="f['password'].errors['required']">Password is required.</div>
          <div *ngIf="f['password'].errors['minlength']">Password must be at least {{ f['password'].errors['minlength'].requiredLength }} characters.</div>
        </div>
      </div>

      <div class="form-group">
        <input type="password" class="form-input" placeholder="Confirm Password*" id="confirmPassword" formControlName="confirmPassword" required>
        <div *ngIf="submitted && f['confirmPassword'].errors" class="error">
          <div *ngIf="f['confirmPassword'].errors['required']">Confirm password is required.</div>
        </div>
        <div *ngIf="submitted && registerForm.errors?.['mismatch']" class="error">
          Passwords do not match.
        </div>
      </div>

      <button type="submit" class="continue-btn" id="continueBtn" [class.active]="registerForm.valid && registerForm.dirty">
        Continue
      </button>

      <div class="checkbox-group">
        <label>
          <input type="checkbox" id="terms" formControlName="terms">
        </label>
        <label for="terms">
          I read and consented to the <a href="#" target="_blank">Terms and Conditions</a>
        </label>
        <div *ngIf="submitted && f['terms'].errors" class="error">
          <div *ngIf="f['terms'].errors['required']">You must agree to the terms.</div>
        </div>
      </div>
    </form>

    <div class="footer-text">
      For further support, you may visit the Help Center or contact our<br>
      customer service team.
    </div>

    <div class="jumia-logo">JUMIA</div>
  </div>
</div>
