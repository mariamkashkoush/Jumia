<div class="manage-product">
  <div class="page-header">
    <div class="header-content">
      <h2>Add New Product</h2>
      <p>Fill in the details below to add a new product to your store</p>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" (click)="cancel()">Cancel</button>
      <button class="btn-draft" (click)="saveDraft()">Save Draft</button>
      <button
        class="btn-primary"
        (click)="saveProduct()"
        [disabled]="!isFormValid() || isLoading">
        {{isLoading ? 'Saving...' : 'Save Product'}}
      </button>
    </div>
  </div>

  <div class="form-container">
    <div class="form-sections">
      <!-- Basic Information -->
      <div class="form-section">
        <h3>Basic Information</h3>
        <div class="form-grid">
          <div class="form-group full-width">
            <label>Product Name *</label>
            <input
              type="text"
              [(ngModel)]="productForm.name"
              placeholder="Enter product name"
              required>
          </div>

          <div class="form-group full-width">
            <label>Description *</label>
            <textarea
              [(ngModel)]="productForm.description"
              placeholder="Describe your product in detail"
              rows="4"
              required></textarea>
          </div>

          <div class="form-group">
            <label>Category *</label>
            <select [(ngModel)]="productForm.category" required>
              <option value="">Select Category</option>
              <option *ngFor="let category of categories" [value]="category">
                {{category}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>Brand *</label>
            <input
              type="text"
              [(ngModel)]="productForm.brand"
              placeholder="Enter brand name"
              required>
          </div>
        </div>
      </div>

      <!-- Pricing & Inventory -->
      <div class="form-section">
        <h3>Pricing & Inventory</h3>
        <div class="form-grid">
          <div class="form-group">
            <label>Price *</label>
            <div class="input-with-prefix">
              <span class="prefix">$</span>
              <input
                type="number"
                [(ngModel)]="productForm.price"
                placeholder="0.00"
                min="0"
                step="0.01"
                required>
            </div>
          </div>

          <div class="form-group">
            <label>Compare at Price</label>
            <div class="input-with-prefix">
              <span class="prefix">$</span>
              <input
                type="number"
                [(ngModel)]="productForm.comparePrice"
                placeholder="0.00"
                min="0"
                step="0.01">
            </div>
            <small>Optional: Show customers the original price</small>
          </div>

          <div class="form-group">
            <label>Stock Quantity *</label>
            <input
              type="number"
              [(ngModel)]="productForm.stock"
              placeholder="0"
              min="0"
              required>
          </div>

          <div class="form-group">
            <label>SKU *</label>
            <input
              type="text"
              [(ngModel)]="productForm.sku"
              placeholder="Stock Keeping Unit"
              required>
            <small>Unique identifier for inventory tracking</small>
          </div>
        </div>
      </div>

      <!-- Product Images -->
      <div class="form-section">
        <h3>Product Images</h3>
        <div class="images-section">
          <div class="images-grid" *ngIf="productForm.images.length > 0">
            <div class="image-item" *ngFor="let image of productForm.images; let i = index">
              <img [src]="image" [alt]="'Product image ' + (i + 1)">
              <button class="remove-image" (click)="removeImage(i)">×</button>
            </div>
          </div>

          <div class="add-image-section">
            <button class="btn-add-image" (click)="addImageUrl()">
              + Add Image URL
            </button>
            <p class="image-note">Add high-quality images to showcase your product</p>
          </div>
        </div>
      </div>

      <!-- Shipping & Details -->
      <div class="form-section">
        <h3>Shipping & Details</h3>
        <div class="form-grid">
          <div class="form-group">
            <label>Weight (kg)</label>
            <input
              type="number"
              [(ngModel)]="productForm.weight"
              placeholder="0.0"
              min="0"
              step="0.1">
          </div>

          <div class="form-group">
            <label>Length (cm)</label>
            <input
              type="number"
              [(ngModel)]="productForm.dimensions"
              placeholder="0"
              min="0">
          </div>

          <div class="form-group">
            <label>Width (cm)</label>
            <input
              type="number"
              [(ngModel)]="productForm.dimensions"
              placeholder="0"
              min="0">
          </div>

          <div class="form-group">
            <label>Height (cm)</label>
            <input
              type="number"
              [(ngModel)]="productForm.dimensions"
              placeholder="0"
              min="0">
          </div>
        </div>
      </div>

      <!-- Tags -->
      <div class="form-section">
        <h3>Product Tags</h3>
        <div class="tags-section">
          <div class="tags-input">
            <input
              type="text"
              [(ngModel)]="newTag"
              (keypress)="onTagKeyPress($event)"
              placeholder="Add a tag and press Enter">
            <button type="button" (click)="addTag()">Add Tag</button>
          </div>

          <div class="tags-list" *ngIf="productForm.tags.length > 0">
            <span class="tag" *ngFor="let tag of productForm.tags; let i = index">
              {{tag}}
              <button class="remove-tag" (click)="removeTag(i)">×</button>
            </span>
          </div>

          <p class="tags-note">Tags help customers find your product through search</p>
        </div>
      </div>
    </div>
  </div>
</div>
